<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>네스티드라우터</title>
    
</head>

<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://unpkg.com/vue-router@3.0.1/dist/vue-router.js"></script>

<body>
    <header>
        <base href="/" /> 
    </header>
    <div id="app">
      <router-view></router-view>
    </div>
    <script>
    //네스티드 라우터의 구조를 코드로 구현한 것으로, User 컴포넌트를 상위 컴포넌트로 놓고  URL에 따라 UserPost 컴포넌트와
    //UserProfile컴포넌트를 표시하는 코드
    
        //컴포넌트 내용 정의
        var User={
            template:
            <div>
                User component
                <router-view></router-view> 
            </div>
        };

        var UserProfile={ template: '<p>User Profile Component</p>'};
        var UserPost = { template : '<p>User Post Component</p>' };
    
        //네스티드 라우팅 정의
        var routes =[
            {
            path:'/user',
            component:User,
            children: [
                {
                    path:'posts',
                    component:UserPost
                },
                {
                    path:'profile',
                    component:UserProfile
                },
            ]
            }];

        //뷰 라우터 정의
        var router = new VueRouter({
            routes
        });

        //뷰 인스턴스에 라우터 추가
        var app=new Vue({
            router
        }).$mount('#app');
    </script>
</body>
</html>